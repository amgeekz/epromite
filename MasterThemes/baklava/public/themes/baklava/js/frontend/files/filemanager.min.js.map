{"version":3,"sources":["src/actions.js","src/contextmenu.js","src/index.js"],"names":[],"mappings":"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","file":"filemanager.min.js","sourcesContent":["\"use strict\";\r\n\r\n// Copyright (c) 2015 - 2017 Dane Everitt <dane@daneeveritt.com>\r\n//\r\n// Permission is hereby granted, free of charge, to any person obtaining a copy\r\n// of this software and associated documentation files (the \"Software\"), to deal\r\n// in the Software without restriction, including without limitation the rights\r\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n// copies of the Software, and to permit persons to whom the Software is\r\n// furnished to do so, subject to the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be included in all\r\n// copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n// SOFTWARE.\r\nclass ActionsClass {\r\n    constructor(element, menu) {\r\n        this.element = element;\r\n        this.menu = menu;\r\n    }\r\n\r\n    destroy() {\r\n        this.element = undefined;\r\n    }\r\n\r\n    sanitizedString(value) {\r\n        return $('<div>').text(value).html();\r\n    }\r\n\r\n    folder(path) {\r\n        let inputValue\r\n        if (path) {\r\n            inputValue = path\r\n        } else {\r\n            const nameBlock = $(this.element).find('td[data-identifier=\"name\"]');\r\n            const currentName = decodeURIComponent(nameBlock.data('name'));\r\n            const currentPath = decodeURIComponent(nameBlock.data('path'));\r\n\r\n            if ($(this.element).data('type') === 'file') {\r\n                inputValue = currentPath;\r\n            } else {\r\n                inputValue = `${currentPath}${currentName}/`;\r\n            }\r\n        }\r\n\r\n        swal({\r\n            type: 'input',\r\n            title: 'Create Folder',\r\n            text: 'Please enter the path and folder name below.',\r\n            showCancelButton: true,\r\n            showConfirmButton: true,\r\n            closeOnConfirm: false,\r\n            showLoaderOnConfirm: true,\r\n            inputValue: inputValue\r\n        }, (val) => {\r\n            if (val === false) {\r\n                return false;\r\n            }\r\n\r\n            $.ajax({\r\n                type: 'POST',\r\n                headers: {\r\n                    'X-Access-Token': Pterodactyl.server.daemonSecret,\r\n                    'X-Access-Server': Pterodactyl.server.uuid,\r\n                },\r\n                contentType: 'application/json; charset=utf-8',\r\n                url: `${Pterodactyl.node.scheme}://${Pterodactyl.node.fqdn}:${Pterodactyl.node.daemonListen}/v1/server/file/folder`,\r\n                timeout: 10000,\r\n                data: JSON.stringify({\r\n                    path: val,\r\n                }),\r\n            }).done(data => {\r\n                swal.close();\r\n                Files.list();\r\n            }).fail(jqXHR => {\r\n                console.error(jqXHR);\r\n                var error = 'An error occurred while trying to process this request.';\r\n                if (typeof jqXHR.responseJSON !== 'undefined' && typeof jqXHR.responseJSON.error !== 'undefined') {\r\n                    error = jqXHR.responseJSON.error;\r\n                }\r\n                swal({\r\n                    type: 'error',\r\n                    title: '',\r\n                    text: error,\r\n                });\r\n            });\r\n        });\r\n    }\r\n\r\n    move() {\r\n        const nameBlock = $(this.element).find('td[data-identifier=\"name\"]');\r\n        const currentName = decodeURIComponent(nameBlock.attr('data-name'));\r\n        const currentPath = decodeURIComponent(nameBlock.data('path'));\r\n\r\n        swal({\r\n            type: 'input',\r\n            title: 'Move File',\r\n            text: 'Please enter the new path for the file below.',\r\n            showCancelButton: true,\r\n            showConfirmButton: true,\r\n            closeOnConfirm: false,\r\n            showLoaderOnConfirm: true,\r\n            inputValue: `${currentPath}${currentName}`,\r\n        }, (val) => {\r\n            if (val === false) {\r\n                return false;\r\n            }\r\n\r\n            $.ajax({\r\n                type: 'POST',\r\n                headers: {\r\n                    'X-Access-Token': Pterodactyl.server.daemonSecret,\r\n                    'X-Access-Server': Pterodactyl.server.uuid,\r\n                },\r\n                contentType: 'application/json; charset=utf-8',\r\n                url: `${Pterodactyl.node.scheme}://${Pterodactyl.node.fqdn}:${Pterodactyl.node.daemonListen}/v1/server/file/move`,\r\n                timeout: 10000,\r\n                data: JSON.stringify({\r\n                    from: `${currentPath}${currentName}`,\r\n                    to: `${val}`,\r\n                }),\r\n            }).done(data => {\r\n                nameBlock.parent().addClass('warning').delay(200).fadeOut();\r\n                swal.close();\r\n            }).fail(jqXHR => {\r\n                console.error(jqXHR);\r\n                var error = 'An error occurred while trying to process this request.';\r\n                if (typeof jqXHR.responseJSON !== 'undefined' && typeof jqXHR.responseJSON.error !== 'undefined') {\r\n                    error = jqXHR.responseJSON.error;\r\n                }\r\n                swal({\r\n                    type: 'error',\r\n                    title: '',\r\n                    text: error,\r\n                });\r\n            });\r\n        });\r\n\r\n    }\r\n\r\n    rename() {\r\n        const nameBlock = $(this.element).find('td[data-identifier=\"name\"]');\r\n        const currentLink = nameBlock.find('a');\r\n        const currentName = decodeURIComponent(nameBlock.attr('data-name'));\r\n        const attachEditor = `\r\n            <input class=\"form-control input-sm\" type=\"text\" value=\"${currentName}\" />\r\n            <span class=\"input-loader\"><i class=\"fa fa-refresh fa-spin fa-fw\"></i></span>\r\n        `;\r\n\r\n        nameBlock.html(attachEditor);\r\n        const inputField = nameBlock.find('input');\r\n        const inputLoader = nameBlock.find('.input-loader');\r\n\r\n        inputField.focus();\r\n        inputField.on('blur keydown', e => {\r\n            // Save Field\r\n            if (\r\n                (e.type === 'keydown' && e.which === 27)\r\n                || e.type === 'blur'\r\n                || (e.type === 'keydown' && e.which === 13 && currentName === inputField.val())\r\n            ) {\r\n                if (!_.isEmpty(currentLink)) {\r\n                    nameBlock.html(currentLink);\r\n                } else {\r\n                    nameBlock.html(currentName);\r\n                }\r\n                inputField.remove();\r\n                ContextMenu.unbind().run();\r\n                return;\r\n            }\r\n\r\n            if (e.type === 'keydown' && e.which !== 13) return;\r\n\r\n            inputLoader.show();\r\n            const currentPath = decodeURIComponent(nameBlock.data('path'));\r\n\r\n            $.ajax({\r\n                type: 'POST',\r\n                headers: {\r\n                    'X-Access-Token': Pterodactyl.server.daemonSecret,\r\n                    'X-Access-Server': Pterodactyl.server.uuid,\r\n                },\r\n                contentType: 'application/json; charset=utf-8',\r\n                url: `${Pterodactyl.node.scheme}://${Pterodactyl.node.fqdn}:${Pterodactyl.node.daemonListen}/v1/server/file/rename`,\r\n                timeout: 10000,\r\n                data: JSON.stringify({\r\n                    from: `${currentPath}${currentName}`,\r\n                    to: `${currentPath}${inputField.val()}`,\r\n                }),\r\n            }).done(data => {\r\n                nameBlock.attr('data-name', inputField.val());\r\n                if (!_.isEmpty(currentLink)) {\r\n                    let newLink = currentLink.attr('href');\r\n                    if (nameBlock.parent().data('type') !== 'folder') {\r\n                        newLink = newLink.substr(0, newLink.lastIndexOf('/')) + '/' + inputField.val();\r\n                    }\r\n                    currentLink.attr('href', newLink);\r\n                    nameBlock.html(\r\n                        currentLink.html(inputField.val())\r\n                    );\r\n                } else {\r\n                    nameBlock.html(inputField.val());\r\n                }\r\n                inputField.remove();\r\n            }).fail(jqXHR => {\r\n                console.error(jqXHR);\r\n                var error = 'An error occurred while trying to process this request.';\r\n                if (typeof jqXHR.responseJSON !== 'undefined' && typeof jqXHR.responseJSON.error !== 'undefined') {\r\n                    error = jqXHR.responseJSON.error;\r\n                }\r\n                nameBlock.addClass('has-error').delay(2000).queue(() => {\r\n                    nameBlock.removeClass('has-error').dequeue();\r\n                });\r\n                inputField.popover({\r\n                    animation: true,\r\n                    placement: 'top',\r\n                    content: error,\r\n                    title: 'Save Error'\r\n                }).popover('show');\r\n            }).always(() => {\r\n                inputLoader.remove();\r\n                ContextMenu.unbind().run();\r\n            });\r\n        });\r\n    }\r\n\r\n    copy() {\r\n        const nameBlock = $(this.element).find('td[data-identifier=\"name\"]');\r\n        const currentName = decodeURIComponent(nameBlock.attr('data-name'));\r\n        const currentPath = decodeURIComponent(nameBlock.data('path'));\r\n\r\n        swal({\r\n            type: 'input',\r\n            title: 'Copy File',\r\n            text: 'Please enter the new path for the copied file below.',\r\n            showCancelButton: true,\r\n            showConfirmButton: true,\r\n            closeOnConfirm: false,\r\n            showLoaderOnConfirm: true,\r\n            inputValue: `${currentPath}${currentName}`,\r\n        }, (val) => {\r\n            if (val === false) {\r\n                return false;\r\n            }\r\n\r\n            $.ajax({\r\n                type: 'POST',\r\n                headers: {\r\n                    'X-Access-Token': Pterodactyl.server.daemonSecret,\r\n                    'X-Access-Server': Pterodactyl.server.uuid,\r\n                },\r\n                contentType: 'application/json; charset=utf-8',\r\n                url: `${Pterodactyl.node.scheme}://${Pterodactyl.node.fqdn}:${Pterodactyl.node.daemonListen}/v1/server/file/copy`,\r\n                timeout: 10000,\r\n                data: JSON.stringify({\r\n                    from: `${currentPath}${currentName}`,\r\n                    to: `${val}`,\r\n                }),\r\n            }).done(data => {\r\n                swal({\r\n                    type: 'success',\r\n                    title: '',\r\n                    text: 'File successfully copied.'\r\n                });\r\n                Files.list();\r\n            }).fail(jqXHR => {\r\n                console.error(jqXHR);\r\n                var error = 'An error occurred while trying to process this request.';\r\n                if (typeof jqXHR.responseJSON !== 'undefined' && typeof jqXHR.responseJSON.error !== 'undefined') {\r\n                    error = jqXHR.responseJSON.error;\r\n                }\r\n                swal({\r\n                    type: 'error',\r\n                    title: '',\r\n                    text: error,\r\n                });\r\n            });\r\n        });\r\n    }\r\n\r\n    download() {\r\n        const nameBlock = $(this.element).find('td[data-identifier=\"name\"]');\r\n        const fileName = decodeURIComponent(nameBlock.attr('data-name'));\r\n        const filePath = decodeURIComponent(nameBlock.data('path'));\r\n\r\n        window.location = `/server/${Pterodactyl.server.uuidShort}/files/download/${filePath}${fileName}`;\r\n    }\r\n\r\n    delete() {\r\n        const nameBlock = $(this.element).find('td[data-identifier=\"name\"]');\r\n        const delPath = decodeURIComponent(nameBlock.data('path'));\r\n        const delName = decodeURIComponent(nameBlock.data('name'));\r\n\r\n        swal({\r\n            type: 'warning',\r\n            title: '',\r\n            text: 'Are you sure you want to delete <code>' + this.sanitizedString(delName) + '</code>?',\r\n            html: true,\r\n            showCancelButton: true,\r\n            showConfirmButton: true,\r\n            closeOnConfirm: false,\r\n            showLoaderOnConfirm: true\r\n        }, () => {\r\n            $.ajax({\r\n                type: 'POST',\r\n                headers: {\r\n                    'X-Access-Token': Pterodactyl.server.daemonSecret,\r\n                    'X-Access-Server': Pterodactyl.server.uuid,\r\n                },\r\n                contentType: 'application/json; charset=utf-8',\r\n                url: `${Pterodactyl.node.scheme}://${Pterodactyl.node.fqdn}:${Pterodactyl.node.daemonListen}/v1/server/file/delete`,\r\n                timeout: 10000,\r\n                data: JSON.stringify({\r\n                    items: [`${delPath}${delName}`]\r\n                }),\r\n            }).done(data => {\r\n                nameBlock.parent().addClass('warning').delay(200).fadeOut();\r\n                swal({\r\n                    type: 'success',\r\n                    title: 'File Deleted'\r\n                });\r\n            }).fail(jqXHR => {\r\n                console.error(jqXHR);\r\n                swal({\r\n                    type: 'error',\r\n                    title: 'Whoops!',\r\n                    html: true,\r\n                    text: 'An error occurred while attempting to delete this file. Please try again.',\r\n                });\r\n            });\r\n        });\r\n    }\r\n\r\n    toggleMassActions() {\r\n        if ($('#file_listing input[type=\"checkbox\"]:checked').length) {\r\n            $('#mass_actions').removeClass('disabled');\r\n        } else {\r\n            $('#mass_actions').addClass('disabled');\r\n        }\r\n    }\r\n\r\n    toggleHighlight(event) {\r\n        const parent = $(event.currentTarget);\r\n        const item = $(event.currentTarget).find('input');\r\n\r\n        if($(item).is(':checked')) {\r\n            $(item).prop('checked', false);\r\n            parent.removeClass('warning').delay(200);\r\n        } else {\r\n            $(item).prop('checked', true);\r\n            parent.addClass('warning').delay(200);\r\n        }\r\n    }\r\n\r\n    highlightAll(event) {\r\n        let parent;\r\n        const item = $(event.currentTarget).find('input');\r\n\r\n        if($(item).is(':checked')) {\r\n          $('#file_listing input[type=checkbox]').prop('checked', false);\r\n          $('#file_listing input[data-action=\"addSelection\"]').each(function() {\r\n              parent = $(this).closest('tr');\r\n              parent.removeClass('warning').delay(200);\r\n          });\r\n        } else {\r\n          $('#file_listing input[type=checkbox]').prop('checked', true);\r\n          $('#file_listing input[data-action=\"addSelection\"]').each(function() {\r\n              parent = $(this).closest('tr');\r\n              parent.addClass('warning').delay(200);\r\n          });\r\n        }\r\n    }\r\n\r\n    deleteSelected() {\r\n        let selectedItems = [];\r\n        let selectedItemsElements = [];\r\n        let parent;\r\n        let nameBlock;\r\n        let delLocation;\r\n\r\n        $('#file_listing input[data-action=\"addSelection\"]:checked').each(function() {\r\n            parent = $(this).closest('tr');\r\n            nameBlock = $(parent).find('td[data-identifier=\"name\"]');\r\n            delLocation = decodeURIComponent(nameBlock.data('path')) + decodeURIComponent(nameBlock.data('name'));\r\n\r\n            selectedItems.push(delLocation);\r\n            selectedItemsElements.push(parent);\r\n        });\r\n\r\n        if (selectedItems.length != 0)\r\n        {\r\n            let formattedItems = \"\";\r\n            let i = 0;\r\n            let self = this;\r\n\r\n            $.each(selectedItems, function(key, value) {\r\n                formattedItems += (\"<code>\" + self.sanitizedString(value) + \"</code>, \");\r\n                i++;\r\n                return i < 5;\r\n            });\r\n\r\n            formattedItems = formattedItems.slice(0, -2);\r\n            if (selectedItems.length > 5) {\r\n                formattedItems += ', and ' + (selectedItems.length - 5) + ' other(s)';\r\n            }\r\n\r\n            swal({\r\n                type: 'warning',\r\n                title: '',\r\n                text: 'Are you sure you want to delete the following files: ' + formattedItems + '?',\r\n                html: true,\r\n                showCancelButton: true,\r\n                showConfirmButton: true,\r\n                closeOnConfirm: false,\r\n                showLoaderOnConfirm: true\r\n            }, () => {\r\n                $.ajax({\r\n                    type: 'POST',\r\n                    headers: {\r\n                        'X-Access-Token': Pterodactyl.server.daemonSecret,\r\n                        'X-Access-Server': Pterodactyl.server.uuid,\r\n                    },\r\n                    contentType: 'application/json; charset=utf-8',\r\n                    url: `${Pterodactyl.node.scheme}://${Pterodactyl.node.fqdn}:${Pterodactyl.node.daemonListen}/v1/server/file/delete`,\r\n                    timeout: 10000,\r\n                    data: JSON.stringify({\r\n                        items: selectedItems\r\n                    }),\r\n                }).done(data => {\r\n                    $('#file_listing input:checked').each(function() {\r\n                        $(this).prop('checked', false);\r\n                    });\r\n\r\n                    $.each(selectedItemsElements, function() {\r\n                        $(this).addClass('warning').delay(200).fadeOut();\r\n                    })\r\n\r\n                    swal({\r\n                        type: 'success',\r\n                        title: 'Files Deleted'\r\n                    });\r\n                }).fail(jqXHR => {\r\n                    console.error(jqXHR);\r\n                    swal({\r\n                        type: 'error',\r\n                        title: 'Whoops!',\r\n                        html: true,\r\n                        text: 'An error occurred while attempting to delete these files. Please try again.',\r\n                    });\r\n                });\r\n            });\r\n        } else {\r\n            swal({\r\n              type: 'warning',\r\n              title: '',\r\n              text: 'Please select files/folders to delete.',\r\n            });\r\n        }\r\n    }\r\n\r\n    decompress() {\r\n        const nameBlock = $(this.element).find('td[data-identifier=\"name\"]');\r\n        const compPath = decodeURIComponent(nameBlock.data('path'));\r\n        const compName = decodeURIComponent(nameBlock.data('name'));\r\n\r\n        swal({\r\n            title: '<i class=\"fa fa-refresh fa-spin\"></i> Decompressing...',\r\n            text: 'This might take a few seconds to complete.',\r\n            html: true,\r\n            allowOutsideClick: false,\r\n            allowEscapeKey: false,\r\n            showConfirmButton: false,\r\n        });\r\n\r\n        $.ajax({\r\n            type: 'POST',\r\n            url: `${Pterodactyl.node.scheme}://${Pterodactyl.node.fqdn}:${Pterodactyl.node.daemonListen}/v1/server/file/decompress`,\r\n            headers: {\r\n                'X-Access-Token': Pterodactyl.server.daemonSecret,\r\n                'X-Access-Server': Pterodactyl.server.uuid,\r\n            },\r\n            contentType: 'application/json; charset=utf-8',\r\n            data: JSON.stringify({\r\n                files: `${compPath}${compName}`\r\n            })\r\n        }).done(data => {\r\n            swal.close();\r\n            Files.list(compPath);\r\n        }).fail(jqXHR => {\r\n            console.error(jqXHR);\r\n            var error = 'An error occurred while trying to process this request.';\r\n            if (typeof jqXHR.responseJSON !== 'undefined' && typeof jqXHR.responseJSON.error !== 'undefined') {\r\n                error = jqXHR.responseJSON.error;\r\n            }\r\n            swal({\r\n                type: 'error',\r\n                title: 'Whoops!',\r\n                html: true,\r\n                text: error\r\n            });\r\n        });\r\n    }\r\n\r\n    compress() {\r\n        const nameBlock = $(this.element).find('td[data-identifier=\"name\"]');\r\n        const compPath = decodeURIComponent(nameBlock.data('path'));\r\n        const compName = decodeURIComponent(nameBlock.data('name'));\r\n\r\n        $.ajax({\r\n            type: 'POST',\r\n            url: `${Pterodactyl.node.scheme}://${Pterodactyl.node.fqdn}:${Pterodactyl.node.daemonListen}/v1/server/file/compress`,\r\n            headers: {\r\n                'X-Access-Token': Pterodactyl.server.daemonSecret,\r\n                'X-Access-Server': Pterodactyl.server.uuid,\r\n            },\r\n            contentType: 'application/json; charset=utf-8',\r\n            data: JSON.stringify({\r\n                files: `${compPath}${compName}`,\r\n                to: compPath.toString()\r\n            })\r\n        }).done(data => {\r\n            Files.list(compPath, err => {\r\n                if (err) return;\r\n                const fileListing = $('#file_listing').find(`[data-name=\"${data.saved_as}\"]`).parent();\r\n                fileListing.addClass('success pulsate').delay(3000).queue(() => {\r\n                    fileListing.removeClass('success pulsate').dequeue();\r\n                });\r\n            });\r\n        }).fail(jqXHR => {\r\n            console.error(jqXHR);\r\n            var error = 'An error occurred while trying to process this request.';\r\n            if (typeof jqXHR.responseJSON !== 'undefined' && typeof jqXHR.responseJSON.error !== 'undefined') {\r\n                error = jqXHR.responseJSON.error;\r\n            }\r\n            swal({\r\n                type: 'error',\r\n                title: 'Whoops!',\r\n                html: true,\r\n                text: this.sanitizedString(error)\r\n            });\r\n        });\r\n    }\r\n}\r\n","\"use strict\";\r\n\r\n// Copyright (c) 2015 - 2017 Dane Everitt <dane@daneeveritt.com>\r\n//\r\n// Permission is hereby granted, free of charge, to any person obtaining a copy\r\n// of this software and associated documentation files (the \"Software\"), to deal\r\n// in the Software without restriction, including without limitation the rights\r\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n// copies of the Software, and to permit persons to whom the Software is\r\n// furnished to do so, subject to the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be included in all\r\n// copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n// SOFTWARE.\r\nclass ContextMenuClass {\r\n    constructor() {\r\n        this.activeLine = null;\r\n    }\r\n\r\n    run() {\r\n        this.directoryClick();\r\n        this.rightClick();\r\n    }\r\n\r\n    makeMenu(parent) {\r\n        $(document).find('#fileOptionMenu').remove();\r\n        if (!_.isNull(this.activeLine)) this.activeLine.removeClass('active');\r\n\r\n        let newFilePath = $('#file_listing').data('current-dir');\r\n        if (parent.data('type') === 'folder') {\r\n            const nameBlock = parent.find('td[data-identifier=\"name\"]');\r\n            const currentName = decodeURIComponent(nameBlock.attr('data-name'));\r\n            const currentPath = decodeURIComponent(nameBlock.data('path'));\r\n            newFilePath = `${currentPath}${currentName}`;\r\n        }\r\n\r\n        let buildMenu = '<ul id=\"fileOptionMenu\" class=\"dropdown-menu\" role=\"menu\" style=\"display:none\" >';\r\n\r\n        if (Pterodactyl.permissions.moveFiles) {\r\n            buildMenu += '<li data-action=\"rename\"><a tabindex=\"-1\" href=\"#\"><i class=\"fa fa-fw fa-pencil-square-o\"></i> Rename</a></li> \\\r\n                          <li data-action=\"move\"><a tabindex=\"-1\" href=\"#\"><i class=\"fa fa-fw fa-arrow-right\"></i> Move</a></li>';\r\n        }\r\n\r\n        if (Pterodactyl.permissions.copyFiles) {\r\n            buildMenu += '<li data-action=\"copy\"><a tabindex=\"-1\" href=\"#\"><i class=\"fa fa-fw fa-clone\"></i> Copy</a></li>';\r\n        }\r\n\r\n        if (Pterodactyl.permissions.compressFiles) {\r\n            buildMenu += '<li data-action=\"compress\" class=\"hidden\"><a tabindex=\"-1\" href=\"#\"><i class=\"fa fa-fw fa-file-archive-o\"></i> Compress</a></li>';\r\n        }\r\n\r\n        if (Pterodactyl.permissions.decompressFiles) {\r\n            buildMenu += '<li data-action=\"decompress\" class=\"hidden\"><a tabindex=\"-1\" href=\"#\"><i class=\"fa fa-fw fa-expand\"></i> Decompress</a></li>';\r\n        }\r\n\r\n        if (Pterodactyl.permissions.createFiles) {\r\n            buildMenu += '<li class=\"divider\"></li> \\\r\n                          <li data-action=\"file\"><a href=\"/server/'+ Pterodactyl.server.uuidShort +'/files/add/?dir=' + $('<div>').text(newFilePath).html() + '\" class=\"text-muted\"><i class=\"fa fa-fw fa-plus\"></i> New File</a></li> \\\r\n                          <li data-action=\"folder\"><a tabindex=\"-1\" href=\"#\"><i class=\"fa fa-fw fa-folder\"></i> New Folder</a></li>';\r\n        }\r\n\r\n        if (Pterodactyl.permissions.downloadFiles || Pterodactyl.permissions.deleteFiles) {\r\n            buildMenu += '<li class=\"divider\"></li>';\r\n        }\r\n\r\n        if (Pterodactyl.permissions.downloadFiles) {\r\n            buildMenu += '<li data-action=\"download\" class=\"hidden\"><a tabindex=\"-1\" href=\"#\"><i class=\"fa fa-fw fa-download\"></i> Download</a></li>';\r\n        }\r\n\r\n        if (Pterodactyl.permissions.deleteFiles) {\r\n            buildMenu += '<li data-action=\"delete\" class=\"bg-danger\"><a tabindex=\"-1\" href=\"#\"><i class=\"fa fa-fw fa-trash-o\"></i> Delete</a></li>';\r\n        }\r\n\r\n        buildMenu += '</ul>';\r\n        return buildMenu;\r\n    }\r\n\r\n    rightClick() {\r\n        $('[data-action=\"toggleMenu\"]').on('mousedown', event => {\r\n            event.preventDefault();\r\n            if ($(document).find('#fileOptionMenu').is(':visible')) {\r\n                $('body').trigger('click');\r\n                return;\r\n            }\r\n            this.showMenu(event);\r\n        });\r\n        $('#file_listing > tbody td').on('contextmenu', event => {\r\n            this.showMenu(event);\r\n        });\r\n    }\r\n\r\n    showMenu(event) {\r\n        const parent = $(event.target).closest('tr');\r\n        const menu = $(this.makeMenu(parent));\r\n\r\n        if (parent.data('type') === 'disabled') return;\r\n        event.preventDefault();\r\n\r\n        $(menu).appendTo('body');\r\n        $(menu).data('invokedOn', $(event.target)).show().css({\r\n            position: 'absolute',\r\n            left: event.pageX - 150,\r\n            top: event.pageY,\r\n        });\r\n\r\n        this.activeLine = parent;\r\n        this.activeLine.addClass('active');\r\n\r\n        // Handle Events\r\n        const Actions = new ActionsClass(parent, menu);\r\n        if (Pterodactyl.permissions.moveFiles) {\r\n            $(menu).find('li[data-action=\"move\"]').unbind().on('click', e => {\r\n                e.preventDefault();\r\n                Actions.move();\r\n            });\r\n            $(menu).find('li[data-action=\"rename\"]').unbind().on('click', e => {\r\n                e.preventDefault();\r\n                Actions.rename();\r\n            });\r\n        }\r\n\r\n        if (Pterodactyl.permissions.copyFiles) {\r\n            $(menu).find('li[data-action=\"copy\"]').unbind().on('click', e => {\r\n                e.preventDefault();\r\n                Actions.copy();\r\n            });\r\n        }\r\n\r\n        if (Pterodactyl.permissions.compressFiles) {\r\n            if (parent.data('type') === 'folder') {\r\n                $(menu).find('li[data-action=\"compress\"]').removeClass('hidden');\r\n            }\r\n            $(menu).find('li[data-action=\"compress\"]').unbind().on('click', e => {\r\n                e.preventDefault();\r\n                Actions.compress();\r\n            });\r\n        }\r\n\r\n        if (Pterodactyl.permissions.decompressFiles) {\r\n            if (_.without(['application/zip', 'application/gzip', 'application/x-gzip'], parent.data('mime')).length < 3) {\r\n                $(menu).find('li[data-action=\"decompress\"]').removeClass('hidden');\r\n            }\r\n            $(menu).find('li[data-action=\"decompress\"]').unbind().on('click', e => {\r\n                e.preventDefault();\r\n                Actions.decompress();\r\n            });\r\n        }\r\n\r\n        if (Pterodactyl.permissions.createFiles) {\r\n            $(menu).find('li[data-action=\"folder\"]').unbind().on('click', e => {\r\n                e.preventDefault();\r\n                Actions.folder();\r\n            });\r\n        }\r\n\r\n        if (Pterodactyl.permissions.downloadFiles) {\r\n            if (parent.data('type') === 'file') {\r\n                $(menu).find('li[data-action=\"download\"]').removeClass('hidden');\r\n            }\r\n            $(menu).find('li[data-action=\"download\"]').unbind().on('click', e => {\r\n                e.preventDefault();\r\n                Actions.download();\r\n            });\r\n        }\r\n\r\n        if (Pterodactyl.permissions.deleteFiles) {\r\n            $(menu).find('li[data-action=\"delete\"]').unbind().on('click', e => {\r\n                e.preventDefault();\r\n                Actions.delete();\r\n            });\r\n        }\r\n\r\n        $(window).unbind().on('click', event => {\r\n            if($(event.target).is('.disable-menu-hide')) {\r\n                event.preventDefault();\r\n                return;\r\n            }\r\n            $(menu).unbind().remove();\r\n            if(!_.isNull(this.activeLine)) this.activeLine.removeClass('active');\r\n        });\r\n    }\r\n\r\n    directoryClick() {\r\n        $('a[data-action=\"directory-view\"]').on('click', function (event) {\r\n            event.preventDefault();\r\n\r\n            const path = $(this).parent().data('path') || '';\r\n            const name = $(this).parent().data('name') || '';\r\n\r\n            window.location.hash = encodeURIComponent(path + name);\r\n            Files.list();\r\n        });\r\n    }\r\n}\r\n\r\nwindow.ContextMenu = new ContextMenuClass;\r\n","\"use strict\";\r\n\r\n// Copyright (c) 2015 - 2017 Dane Everitt <dane@daneeveritt.com>\r\n//\r\n// Permission is hereby granted, free of charge, to any person obtaining a copy\r\n// of this software and associated documentation files (the \"Software\"), to deal\r\n// in the Software without restriction, including without limitation the rights\r\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n// copies of the Software, and to permit persons to whom the Software is\r\n// furnished to do so, subject to the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be included in all\r\n// copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n// SOFTWARE.\r\nclass FileManager {\r\n    constructor() {\r\n        this.list(this.decodeHash());\r\n    }\r\n\r\n    list(path, next) {\r\n        if (_.isUndefined(path)) {\r\n            path = this.decodeHash();\r\n        }\r\n\r\n        this.loader(true);\r\n        $.ajax({\r\n            type: 'POST',\r\n            url: Pterodactyl.meta.directoryList,\r\n            headers: {\r\n                'X-CSRF-Token': Pterodactyl.meta.csrftoken,\r\n            },\r\n            data: {\r\n                directory: path,\r\n            },\r\n        }).done(data => {\r\n            this.loader(false);\r\n            $('#load_files').slideUp(10).html(data).slideDown(10, () => {\r\n                ContextMenu.run();\r\n                this.reloadFilesButton();\r\n                this.addFolderButton();\r\n                this.selectItem();\r\n                this.selectAll();\r\n                this.selectiveDeletion();\r\n                this.selectRow();\r\n                if (_.isFunction(next)) {\r\n                    return next();\r\n                }\r\n            });\r\n            $('#internal_alert').slideUp();\r\n\r\n            if (typeof Siofu === 'object') {\r\n                Siofu.listenOnInput(document.getElementById(\"files_touch_target\"));\r\n            }\r\n        }).fail(jqXHR => {\r\n            this.loader(false);\r\n            if (_.isFunction(next)) {\r\n                return next(new Error('Failed to load file listing.'));\r\n            }\r\n\r\n            if ((path !== '' && path !== '/') && jqXHR.status === 404) {\r\n                return this.list('', next);\r\n            }\r\n\r\n            swal({\r\n                type: 'error',\r\n                title: 'File Error',\r\n                text: jqXHR.responseJSON.errors[0].detail || 'An error occurred while attempting to process this request. Please try again.',\r\n            });\r\n            console.error(jqXHR);\r\n        });\r\n    }\r\n\r\n    loader(show) {\r\n        if (show){\r\n            $('.file-overlay').fadeIn(100);\r\n        } else {\r\n            $('.file-overlay').fadeOut(100);\r\n        }\r\n    }\r\n\r\n    reloadFilesButton() {\r\n        $('i[data-action=\"reload-files\"]').unbind().on('click', () => {\r\n            $('i[data-action=\"reload-files\"]').addClass('fa-spin');\r\n            this.list();\r\n        });\r\n    }\r\n\r\n    selectItem() {\r\n        $('[data-action=\"addSelection\"]').on('click', event => {\r\n            event.preventDefault();\r\n        });\r\n    }\r\n\r\n    selectAll() {\r\n        $('[data-action=\"selectAll\"]').on('click', event => {\r\n            event.preventDefault();\r\n        });\r\n    }\r\n\r\n    selectiveDeletion() {\r\n        $('[data-action=\"selective-deletion\"]').on('mousedown', event => {\r\n            new ActionsClass().deleteSelected();\r\n        });\r\n    }\r\n\r\n    addFolderButton() {\r\n        $('[data-action=\"add-folder\"]').unbind().on('click', () => {\r\n            new ActionsClass().folder($('#file_listing').data('current-dir') || '/');\r\n        });\r\n    }\r\n\r\n    selectRow() {\r\n      $('#file_listing tr').on('mousedown', event => {\r\n          if (event.which === 1) {\r\n              if ($(event.target).is('th') || $(event.target).is('input[data-action=\"selectAll\"]')) {\r\n                  new ActionsClass().highlightAll(event);\r\n              } else if ($(event.target).is('td') || $(event.target).is('input[data-action=\"addSelection\"]')) {\r\n                  new ActionsClass().toggleHighlight(event);\r\n              }\r\n\r\n              new ActionsClass().toggleMassActions();\r\n          }\r\n      });\r\n    }\r\n\r\n    decodeHash() {\r\n        return decodeURIComponent(window.location.hash.substring(1));\r\n    }\r\n\r\n}\r\n\r\nwindow.Files = new FileManager;\r\n"]}